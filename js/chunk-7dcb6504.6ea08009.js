(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7dcb6504"],{"0a13":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("router-link",{attrs:{to:"/post/"+t.data.id}},[a("div",{staticClass:"PostItem1"},[a("div",{staticClass:"star"},[a("div",{staticClass:"plan1"},[a("div",[a("p",[t._v(t._s(t.data.title))]),a("span",[t._v(t._s(t.data.user.nickname)+" "+t._s(t.data.comment_length)+"跟帖")])]),a("img",{attrs:{src:t.$axios.defaults.baseURL+t.data.cover[0].url,alt:""}})])])])])},i=[],n={props:["data"]},o=n,r=(a("cbc3"),a("2877")),c=Object(r["a"])(o,s,i,!1,null,"8c42d79a",null);e["a"]=c.exports},"317d":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("router-link",{attrs:{to:"/video/"+t.data.id}},[a("div",{staticClass:"PostItem3"},[a("div",{staticClass:"star"},[a("div",{staticClass:"plan3"},[a("p",[t._v(t._s(t.data.title))]),a("div",{staticClass:"video"},[a("div",{staticClass:"shipin"},[a("i",{staticClass:"iconfont iconshipin"})]),a("img",{attrs:{src:t.$axios.defaults.baseURL+t.data.cover[0].url,alt:""}})]),a("span",[t._v(t._s(t.data.user.nickname)+" "+t._s(t.data.comment_length)+"跟帖")])])])])])},i=[],n={props:["data"]},o=n,r=(a("9d81"),a("2877")),c=Object(r["a"])(o,s,i,!1,null,"3ef25786",null);e["a"]=c.exports},"4de4":function(t,e,a){"use strict";var s=a("23e7"),i=a("b727").filter,n=a("1dde"),o=a("ae40"),r=n("filter"),c=o("filter");s({target:"Array",proto:!0,forced:!r||!c},{filter:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},7156:function(t,e,a){},"7bad":function(t,e,a){},"829f":function(t,e,a){},"92a0":function(t,e,a){},"99af":function(t,e,a){"use strict";var s=a("23e7"),i=a("d039"),n=a("e8b5"),o=a("861d"),r=a("7b0b"),c=a("50c4"),l=a("8418"),d=a("65f0"),u=a("1dde"),f=a("b622"),h=a("2d00"),v=f("isConcatSpreadable"),g=9007199254740991,p="Maximum allowed index exceeded",m=h>=51||!i((function(){var t=[];return t[v]=!1,t.concat()[0]!==t})),b=u("concat"),_=function(t){if(!o(t))return!1;var e=t[v];return void 0!==e?!!e:n(t)},k=!m||!b;s({target:"Array",proto:!0,forced:k},{concat:function(t){var e,a,s,i,n,o=r(this),u=d(o,0),f=0;for(e=-1,s=arguments.length;e<s;e++)if(n=-1===e?o:arguments[e],_(n)){if(i=c(n.length),f+i>g)throw TypeError(p);for(a=0;a<i;a++,f++)a in n&&l(u,f,n[a])}else{if(f>=g)throw TypeError(p);l(u,f++,n)}return u.length=f,u}})},"9d81":function(t,e,a){"use strict";var s=a("829f"),i=a.n(s);i.a},cbc3:function(t,e,a){"use strict";var s=a("7156"),i=a.n(s);i.a},cecf:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("router-link",{attrs:{to:"/post/"+t.data.id}},[a("div",{staticClass:"PostItem2"},[a("div",{staticClass:"star"},[a("div",{staticClass:"plan2"},[a("p",[t._v(t._s(t.data.title))]),t._l(t.data.cover,(function(e,s){return a("img",{key:s,attrs:{src:t.$axios.defaults.baseURL+e.url}})})),a("span",[t._v(t._s(t.data.user.nickname)+" "+t._s(t.data.comment_length)+"跟帖")])],2)])])])},i=[],n={props:["data"]},o=n,r=(a("ecb5"),a("2877")),c=Object(r["a"])(o,s,i,!1,null,"b9c00ce8",null);e["a"]=c.exports},d504:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box"},[a("div",{staticClass:"header"},[a("div",{staticClass:"logo"},[a("i",{staticClass:"iconfont iconnew",on:{click:function(e){return t.$router.push("/login")}}})]),a("div",{staticClass:"search",on:{click:function(e){return t.$router.push("/search")}}},[a("i",{staticClass:"iconfont iconsearch"}),a("span",[t._v("搜索新闻")])]),a("div",{staticClass:"user"},[a("router-link",{attrs:{to:"/user"}},[a("span",{staticClass:"iconfont iconwode"})])],1)]),a("van-tabs",{attrs:{swipeable:"",sticky:""},on:{scroll:t.handleScroll},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},t._l(t.categories,(function(e,s){return 1==e.is_top||"V"==e.name?a("van-tab",{key:s,attrs:{title:e.name}},[a("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.refreshing,callback:function(e){t.refreshing=e},expression:"refreshing"}},[a("van-list",{attrs:{"immediate-check":!1,finished:e.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:e.loading,callback:function(a){t.$set(e,"loading",a)},expression:"item.loading"}},t._l(e.posts,(function(e,s){return a("div",{key:s},[1==e.type&&1==e.cover.length?a("PostItem1",{attrs:{data:e}}):t._e(),1==e.type&&3==e.cover.length?a("PostItem2",{attrs:{data:e}}):t._e(),2==e.type?a("PostItem3",{attrs:{data:e}}):t._e()],1)})),0)],1)],1):t._e()})),1)],1)},i=[],n=(a("99af"),a("4de4"),a("d81d"),a("b0c0"),a("2909")),o=a("0a13"),r=a("cecf"),c=a("317d"),l={name:"index",beforeRouteEnter:function(t,e,a){"/category"==e.path?a((function(t){t.active=0,t.pageReload()})):a((function(t){t.pageReload()}))},data:function(){return{categories:[],active:0,refreshing:!1,token:""}},components:{PostItem1:o["a"],PostItem2:r["a"],PostItem3:c["a"]},watch:{active:function(){var t=this,e=this.categories.filter((function(t){return 1==t.is_top||"V"==t.name}));this.active===e.length-1&&this.$router.push("/category"),this.getList(),setTimeout((function(){window.scrollTo(0,t.categories[t.active].scrollY)}),20)}},methods:{pageReload:function(){var t=JSON.parse(localStorage.getItem("categories")),e=JSON.parse(localStorage.getItem("userInfo"))||{},a=e.token;this.token=a,t&&("关注"!=t[0].name||a)?"关注"!=t[0].name&&a?this.reload(a):(this.categories=t,this.addPagelist()):this.reload()},reload:function(t){var e=this,a={url:"/category"};t&&(a.headers={Authorization:t}),this.$axios(a).then((function(t){var a=t.data.data;a.push({name:"V"}),e.categories=a,localStorage.setItem("categories",JSON.stringify(a)),e.addPagelist()}))},addPagelist:function(){this.categories=this.categories.map((function(t){return t.pageIndex=1,t.posts=[],t.loading=!1,t.finished=!1,t.scrollY=0,t.isload=!1,t})),this.getList()},onLoad:function(){this.getList()},getList:function(){var t=this,e=this.categories[this.active],a=e.pageIndex,s=e.id,i=e.finished,o=e.name,r=e.isload;if(!r&&(this.categories[this.active].isload=!0,this.categories[this.active].pageIndex+=1,!i)){var c={url:"/post",params:{pageIndex:a,pageSize:5,category:s}};"关注"==o&&(c.headers={Authorization:this.token}),this.$axios(c).then((function(e){var a=e.data,s=a.data,i=a.total;t.categories[t.active].posts=[].concat(Object(n["a"])(t.categories[t.active].posts),Object(n["a"])(s)),t.categories[t.active].loading=!1,t.categories=Object(n["a"])(t.categories),t.categories[t.active].posts.length==i&&(t.categories[t.active].finished=!0),t.categories[t.active].isload=!1}))}},onRefresh:function(){this.onLoad()},handleScroll:function(t){if(0!=this.categories.length){var e=t.scrollTop;this.categories[this.active].scrollY=e}}}},d=l,u=(a("f56d"),a("2877")),f=Object(u["a"])(d,s,i,!1,null,"724ec55b",null);e["default"]=f.exports},d81d:function(t,e,a){"use strict";var s=a("23e7"),i=a("b727").map,n=a("1dde"),o=a("ae40"),r=n("map"),c=o("map");s({target:"Array",proto:!0,forced:!r||!c},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},ecb5:function(t,e,a){"use strict";var s=a("7bad"),i=a.n(s);i.a},f56d:function(t,e,a){"use strict";var s=a("92a0"),i=a.n(s);i.a}}]);
//# sourceMappingURL=chunk-7dcb6504.6ea08009.js.map