(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6f962380"],{"1bea":function(t,s,a){},"2b95":function(t,s,a){"use strict";var o=a("307f"),i=a.n(o);i.a},"307f":function(t,s,a){},5140:function(t,s,a){"use strict";var o=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"footer"},[a("div",{staticClass:"writeFollow",on:{click:function(s){return t.$router.push("/post-comment/"+t.data.id)}}},[t._v("写跟帖")]),a("div",{staticClass:"footerIcons"},[a("div",{staticClass:"message"},[t._v(t._s(t.data.comment_length>100?"99":t.data.comment_length))]),a("i",{staticClass:"iconfont iconpinglun-"}),a("i",{staticClass:"iconfont iconshoucang",class:t.data.has_star?"active":"",on:{click:t.collectClick}}),a("i",{staticClass:"iconfont iconfenxiang"})])])},i=[],e={props:["data"],methods:{collectClick:function(){var t=this,s=JSON.parse(localStorage.getItem("userInfo")),a=s.token;this.$axios({url:"/post_star/"+this.data.id,headers:{Authorization:a}}).then((function(s){var a=s.data.message;t.$toast.success(a),t.data.has_star=!t.data.has_star}))}}},n=e,c=(a("2b95"),a("2877")),l=Object(c["a"])(n,o,i,!1,null,"92f7ca1a",null);s["a"]=l.exports},"81a8":function(t,s,a){"use strict";a.r(s);var o=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"box"},[t.post.content?a("video",{staticClass:"video",attrs:{src:t.$axios.defaults.baseURL+t.post.content,controls:"",poster:t.$axios.defaults.baseURL+t.post.cover[0].url}}):t._e(),a("div",{staticClass:"header"},[a("div",{staticClass:"user"},[t.post.user.head_img?a("img",{attrs:{src:t.$axios.defaults.baseURL+t.post.user.head_img,alt:""}}):t._e(),t._v(" 火星时报 ")]),a("div",{staticClass:"follow",class:t.post.has_follow?"active":"",on:{click:function(s){return t.followClick(t.post.has_follow)}}},[t._v(t._s(t.post.has_follow?"已关注":"关注"))])]),a("div",{staticClass:"title"},[a("h3",[t._v(t._s(t.post.title))])]),a("div",{staticClass:"fun"},[a("div",{staticClass:"praise"},[a("i",{staticClass:"iconfont icondianzan",on:{click:function(s){return t.praiseClick()}}}),t._v(t._s(t.post.like_length)+" ")]),t._m(0)]),t._m(1),a("PostBar",{attrs:{data:t.post}})],1)},i=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"transpond"},[a("i",{staticClass:"iconfont iconweixin"}),t._v("微信 ")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[a("h3",[t._v("精彩跟帖")]),a("p",[t._v("暂无跟帖，抢占沙发")])])}],e=a("5140"),n={components:{PostBar:e["a"]},data:function(){return{post:{user:{},cover:[{}]}}},mounted:function(){var t=this,s=this.$route.params.id,a=JSON.parse(localStorage.getItem("userInfo"))||{},o=a.token;this.token=o;var i={url:"/post/"+s};o&&(i.headers={Authorization:o}),this.$axios(i).then((function(s){var a=s.data.data;t.post=a,localStorage.setItem("postJson",JSON.stringify(a))}))},methods:{followClick:function(t){var s=this;t?this.$axios({url:"/user_unfollow/"+this.post.user.id,headers:{Authorization:this.token}}).then((function(t){s.post.has_follow=!1,s.$toast.success("取消关注成功")})):this.$axios({url:"/user_follows/"+this.post.user.id,headers:{Authorization:this.token}}).then((function(t){s.post.has_follow=!0,s.$toast.success("关注成功")}))},praiseClick:function(){var t=this;this.$axios({url:"/post_like/"+this.post.id,headers:{Authorization:this.token}}).then((function(s){var a=s.data.message;t.$toast.success(a),t.post.has_like=!t.post.has_like,t.post.has_like?t.post.like_length+=1:t.post.like_length-=1}))}}},c=n,l=(a("9a13"),a("2877")),r=Object(l["a"])(c,o,i,!1,null,"d6f3df50",null);s["default"]=r.exports},"9a13":function(t,s,a){"use strict";var o=a("1bea"),i=a.n(o);i.a}}]);
//# sourceMappingURL=chunk-6f962380.c376da37.js.map